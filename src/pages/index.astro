---
import Layout from '@/layouts/Layout.astro';
import AlbumCard from '@/components/AlbumCard.astro';
import MasonryGallery from '@/components/MasonryGallery.astro';
import { dummySiteSettings, dummyPhotos, getFeaturedAlbums } from '@/lib/dummy-data';
import { shuffleArray } from '@/lib/utils';

const settings = dummySiteSettings;
const featuredAlbums = getFeaturedAlbums();
const recentPhotos = shuffleArray(dummyPhotos).slice(0, 12);
---

<Layout title="Home">
  <section class="hero">
    <div class="hero__background">
      <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop" alt="" />
      <div class="hero__overlay"></div>
    </div>
    <div class="container">
      <div class="hero__content">
        <p class="hero__intro subtle-text">Welcome to</p>
        <h1 class="display-heading">{settings.siteName}</h1>
        <p class="hero__tagline">{settings.tagline}</p>
        <div class="hero__actions">
          <a href="/gallery" class="btn btn--primary">View Gallery</a>
          <a href="/about" class="btn btn--outline" style="border-color:#fff;color:#fff">About Me</a>
        </div>
      </div>
    </div>
    <div class="hero__scroll">
      <span>Scroll</span>
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14"/><path d="m19 12-7 7-7-7"/></svg>
    </div>
  </section>

  <section class="section section--albums">
    <div class="container">
      <div class="section__header">
        <h2 class="section-heading">Featured Collections</h2>
        <a href="/albums" class="section__link">View All Albums â†’</a>
      </div>
      <div class="albums-grid">
        {featuredAlbums.map((album, index) => (
          <AlbumCard album={album} variant={index === 0 ? 'featured' : 'default'} />
        ))}
      </div>
    </div>
  </section>

  <section class="section section--gallery">
    <div class="container container--wide">
      <div class="section__header section__header--center">
        <p class="subtle-text">Latest Work</p>
        <h2 class="section-heading">Recent Captures</h2>
      </div>
      <MasonryGallery photos={recentPhotos} columns={4} showInfo={true} />
      <div class="section__cta">
        <a href="/gallery" class="btn btn--outline">Explore Full Gallery</a>
      </div>
    </div>
  </section>

  <section class="section section--about">
    <div class="container">
      <div class="about-preview">
        <div class="about-preview__image">
          <img src={settings.profileImage} alt={settings.photographerName} />
        </div>
        <div class="about-preview__content">
          <p class="subtle-text">The Photographer</p>
          <h2 class="section-heading">{settings.photographerName}</h2>
          <p class="about-preview__bio">{settings.bio}</p>
          <a href="/about" class="btn btn--outline">Learn More</a>
        </div>
      </div>
    </div>
  </section>

  <section class="section section--cta">
    <div class="container">
      <div class="cta-block">
        <h2 class="section-heading">Let's Create Together</h2>
        <p>Have a project in mind? I'd love to hear about it.</p>
        <a href="/contact" class="btn btn--primary">Get in Touch</a>
      </div>
    </div>
  </section>
</Layout>

<style>
  .hero { position: relative; min-height: 100vh; display: flex; align-items: center; justify-content: center; color: #fff; text-align: center; overflow: hidden; }
  .hero__background { position: absolute; inset: 0; z-index: -1; }
  .hero__background img { width: 100%; height: 100%; object-fit: cover; }
  .hero__overlay { position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.5) 100%); }
  .hero__content { max-width: 800px; padding: 6rem 0; }
  .hero__intro { margin-bottom: 1rem; color: rgba(255,255,255,0.8); }
  .hero__tagline { font-size: 1.25rem; margin: 1.5rem 0 2.5rem; opacity: 0.9; }
  .hero__actions { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
  .hero__scroll { position: absolute; bottom: 2rem; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; gap: 0.5rem; font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; opacity: 0.7; animation: bounce 2s infinite; }
  @keyframes bounce { 0%, 100% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(8px); } }
  .section { padding: 6rem 0; }
  .section__header { display: flex; align-items: flex-end; justify-content: space-between; margin-bottom: 3rem; }
  .section__header--center { flex-direction: column; align-items: center; text-align: center; }
  .section__header--center .subtle-text { margin-bottom: 0.5rem; }
  .section__link { font-size: 0.875rem; color: #888; transition: color 0.2s; }
  .section__link:hover { color: #1a1a1a; }
  .section__cta { text-align: center; margin-top: 3rem; }
  .albums-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }
  .section--about { background: #f5f5f5; }
  .about-preview { display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center; }
  .about-preview__image img { width: 100%; aspect-ratio: 4/5; object-fit: cover; border-radius: 8px; }
  .about-preview__content .subtle-text { margin-bottom: 0.5rem; }
  .about-preview__bio { font-size: 1.0625rem; line-height: 1.8; color: #666; margin: 1.5rem 0 2rem; }
  .section--cta { background: #1a1a1a; color: #fff; }
  .cta-block { text-align: center; max-width: 600px; margin: 0 auto; }
  .cta-block p { font-size: 1.125rem; margin: 1rem 0 2rem; opacity: 0.8; }
  @media (max-width: 1024px) { .albums-grid { grid-template-columns: repeat(2, 1fr); } }
  @media (max-width: 768px) { .hero__actions { flex-direction: column; align-items: center; } .section { padding: 4rem 0; } .section__header { flex-direction: column; align-items: flex-start; gap: 1rem; } .albums-grid { grid-template-columns: 1fr; } .about-preview { grid-template-columns: 1fr; gap: 2rem; } .about-preview__image img { aspect-ratio: 1; max-width: 300px; margin: 0 auto; } .about-preview__content { text-align: center; } }
</style>
